---
slug: RPC
title: 后端 - 使用RPC
type:  docs
sidebar_position: 2
---


:::tip 申明api
## **通过api.Api定义doptime函数**
::: 
 api.Api定义后的函数可以通过api.Rpc定义RPC函数使用。  
 如果你不需要用到多体模式。则不需要使用RPC 功能。  
```go   title="main.go"
package main

import (
	"github.com/doptime/doptime/api"
)

type InDemo struct {
	Id   string `mapstructure:"JwtId" validate:"required"`
}

//var DemoRpc = api.Rpc[*InDemo, string](options ...*api.ApiOption)
var DemoRpc = api.Rpc[*InDemo, string]()
result, err := DemoRpc.Call(&InDemo{Id:"123"})

```
- RPC 的可选参数与api的可选参数相同  